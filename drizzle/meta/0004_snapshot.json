{
  "version": "5",
  "dialect": "mysql",
  "id": "b0efa7cd-2edf-4b43-a682-76d63d77720a",
  "prevId": "ec0eed58-4cc0-4dc9-a080-b47e4a673848",
  "tables": {
    "alerts": {
      "name": "alerts",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "alertType": {
          "name": "alertType",
          "type": "enum('score_threshold','new_opportunity')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tickerId": {
          "name": "tickerId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "thresholdScore": {
          "name": "thresholdScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "thresholdDirection": {
          "name": "thresholdDirection",
          "type": "enum('above','below')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "lastTriggered": {
          "name": "lastTriggered",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "user_active_idx": {
          "name": "user_active_idx",
          "columns": [
            "userId",
            "isActive"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alerts_userId_users_id_fk": {
          "name": "alerts_userId_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_tickerId_tickers_id_fk": {
          "name": "alerts_tickerId_tickers_id_fk",
          "tableFrom": "alerts",
          "tableTo": "tickers",
          "columnsFrom": [
            "tickerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_personaId_personas_id_fk": {
          "name": "alerts_personaId_personas_id_fk",
          "tableFrom": "alerts",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "alerts_id": {
          "name": "alerts_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "analyses": {
      "name": "analyses",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tickerId": {
          "name": "tickerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "runId": {
          "name": "runId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "score": {
          "name": "score",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "verdict": {
          "name": "verdict",
          "type": "enum('Strong Fit','Fit','Borderline','Not a Fit','Insufficient Data')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "confidence": {
          "name": "confidence",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "summaryBullets": {
          "name": "summaryBullets",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "criteria": {
          "name": "criteria",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keyRisks": {
          "name": "keyRisks",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "whatWouldChangeMind": {
          "name": "whatWouldChangeMind",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "dataUsed": {
          "name": "dataUsed",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "citations": {
          "name": "citations",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "runMetadata": {
          "name": "runMetadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "runTimestamp": {
          "name": "runTimestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "ticker_persona_idx": {
          "name": "ticker_persona_idx",
          "columns": [
            "tickerId",
            "personaId"
          ],
          "isUnique": false
        },
        "run_timestamp_idx": {
          "name": "run_timestamp_idx",
          "columns": [
            "runTimestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "analyses_tickerId_tickers_id_fk": {
          "name": "analyses_tickerId_tickers_id_fk",
          "tableFrom": "analyses",
          "tableTo": "tickers",
          "columnsFrom": [
            "tickerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analyses_personaId_personas_id_fk": {
          "name": "analyses_personaId_personas_id_fk",
          "tableFrom": "analyses",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "analyses_id": {
          "name": "analyses_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "analyses_runId_unique": {
          "name": "analyses_runId_unique",
          "columns": [
            "runId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "financialDataCache": {
      "name": "financialDataCache",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "tickerId": {
          "name": "tickerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "dataType": {
          "name": "dataType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "dataKey": {
          "name": "dataKey",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "data": {
          "name": "data",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fetchedAt": {
          "name": "fetchedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "expires_at_idx": {
          "name": "expires_at_idx",
          "columns": [
            "expiresAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "financialDataCache_tickerId_tickers_id_fk": {
          "name": "financialDataCache_tickerId_tickers_id_fk",
          "tableFrom": "financialDataCache",
          "tableTo": "tickers",
          "columnsFrom": [
            "tickerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "financialDataCache_id": {
          "name": "financialDataCache_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "ticker_data_type_key_idx": {
          "name": "ticker_data_type_key_idx",
          "columns": [
            "tickerId",
            "dataType",
            "dataKey"
          ]
        }
      },
      "checkConstraint": {}
    },
    "jobs": {
      "name": "jobs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "jobType": {
          "name": "jobType",
          "type": "enum('ticker_analysis','daily_scan','deep_analysis')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending','running','completed','failed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "params": {
          "name": "params",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "resultId": {
          "name": "resultId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "progress": {
          "name": "progress",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "statusMessage": {
          "name": "statusMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "startedAt": {
          "name": "startedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "retryCount": {
          "name": "retryCount",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "status_idx": {
          "name": "status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "job_type_status_idx": {
          "name": "job_type_status_idx",
          "columns": [
            "jobType",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "jobs_id": {
          "name": "jobs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "opportunities": {
      "name": "opportunities",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tickerId": {
          "name": "tickerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "analysisId": {
          "name": "analysisId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "scanDate": {
          "name": "scanDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rank": {
          "name": "rank",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "whyNow": {
          "name": "whyNow",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keyMetrics": {
          "name": "keyMetrics",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "changeStatus": {
          "name": "changeStatus",
          "type": "enum('new','improved','unchanged','dropped')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "previousScore": {
          "name": "previousScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scanTimestamp": {
          "name": "scanTimestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "persona_scan_date_idx": {
          "name": "persona_scan_date_idx",
          "columns": [
            "personaId",
            "scanDate"
          ],
          "isUnique": false
        },
        "scan_date_idx": {
          "name": "scan_date_idx",
          "columns": [
            "scanDate"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "opportunities_personaId_personas_id_fk": {
          "name": "opportunities_personaId_personas_id_fk",
          "tableFrom": "opportunities",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "opportunities_tickerId_tickers_id_fk": {
          "name": "opportunities_tickerId_tickers_id_fk",
          "tableFrom": "opportunities",
          "tableTo": "tickers",
          "columnsFrom": [
            "tickerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "opportunities_analysisId_analyses_id_fk": {
          "name": "opportunities_analysisId_analyses_id_fk",
          "tableFrom": "opportunities",
          "tableTo": "analyses",
          "columnsFrom": [
            "analysisId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "opportunities_id": {
          "name": "opportunities_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "unique_persona_ticker_date": {
          "name": "unique_persona_ticker_date",
          "columns": [
            "personaId",
            "tickerId",
            "scanDate"
          ]
        }
      },
      "checkConstraint": {}
    },
    "opportunityRecords": {
      "name": "opportunityRecords",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "scanRecordId": {
          "name": "scanRecordId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "companyName": {
          "name": "companyName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sector": {
          "name": "sector",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "rank": {
          "name": "rank",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "investmentScore": {
          "name": "investmentScore",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "verdict": {
          "name": "verdict",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "confidence": {
          "name": "confidence",
          "type": "decimal(3,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "financialDataSnapshot": {
          "name": "financialDataSnapshot",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "investmentThesis": {
          "name": "investmentThesis",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "summaryBullets": {
          "name": "summaryBullets",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "keyStrengths": {
          "name": "keyStrengths",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "keyRisks": {
          "name": "keyRisks",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "catalystAnalysis": {
          "name": "catalystAnalysis",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "whatWouldChangeMind": {
          "name": "whatWouldChangeMind",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scoringCriteria": {
          "name": "scoringCriteria",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dataUsed": {
          "name": "dataUsed",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "analyzedAt": {
          "name": "analyzedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "scan_record_id_idx": {
          "name": "scan_record_id_idx",
          "columns": [
            "scanRecordId"
          ],
          "isUnique": false
        },
        "persona_ticker_idx": {
          "name": "persona_ticker_idx",
          "columns": [
            "personaId",
            "ticker"
          ],
          "isUnique": false
        },
        "rank_idx": {
          "name": "rank_idx",
          "columns": [
            "scanRecordId",
            "rank"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "opportunityRecords_scanRecordId_opportunityScanRecords_id_fk": {
          "name": "opportunityRecords_scanRecordId_opportunityScanRecords_id_fk",
          "tableFrom": "opportunityRecords",
          "tableTo": "opportunityScanRecords",
          "columnsFrom": [
            "scanRecordId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "opportunityRecords_personaId_personas_id_fk": {
          "name": "opportunityRecords_personaId_personas_id_fk",
          "tableFrom": "opportunityRecords",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "opportunityRecords_id": {
          "name": "opportunityRecords_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "unique_scan_ticker_record": {
          "name": "unique_scan_ticker_record",
          "columns": [
            "scanRecordId",
            "ticker"
          ]
        }
      },
      "checkConstraint": {}
    },
    "opportunityScanRecords": {
      "name": "opportunityScanRecords",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending','phase1_filtering','phase2_analysis','completed','failed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "phase1StartedAt": {
          "name": "phase1StartedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase1CompletedAt": {
          "name": "phase1CompletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase1StocksProcessed": {
          "name": "phase1StocksProcessed",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase1CandidatesFound": {
          "name": "phase1CandidatesFound",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase1ApiCallsUsed": {
          "name": "phase1ApiCallsUsed",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase1CacheHits": {
          "name": "phase1CacheHits",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase2StartedAt": {
          "name": "phase2StartedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase2CompletedAt": {
          "name": "phase2CompletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "phase2OpportunitiesAnalyzed": {
          "name": "phase2OpportunitiesAnalyzed",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase2LlmCallsUsed": {
          "name": "phase2LlmCallsUsed",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase2ApiCallsUsed": {
          "name": "phase2ApiCallsUsed",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "phase2CacheHits": {
          "name": "phase2CacheHits",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "opportunitiesStored": {
          "name": "opportunitiesStored",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "failedTickers": {
          "name": "failedTickers",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "totalDurationMs": {
          "name": "totalDurationMs",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "startedAt": {
          "name": "startedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "persona_status_idx": {
          "name": "persona_status_idx",
          "columns": [
            "personaId",
            "status"
          ],
          "isUnique": false
        },
        "started_at_idx": {
          "name": "started_at_idx",
          "columns": [
            "startedAt"
          ],
          "isUnique": false
        },
        "completed_at_idx": {
          "name": "completed_at_idx",
          "columns": [
            "completedAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "opportunityScanRecords_personaId_personas_id_fk": {
          "name": "opportunityScanRecords_personaId_personas_id_fk",
          "tableFrom": "opportunityScanRecords",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "opportunityScanRecords_id": {
          "name": "opportunityScanRecords_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "personas": {
      "name": "personas",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "personaId": {
          "name": "personaId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "investmentPhilosophy": {
          "name": "investmentPhilosophy",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "avatarUrl": {
          "name": "avatarUrl",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "displayOrder": {
          "name": "displayOrder",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "personas_id": {
          "name": "personas_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "personas_personaId_unique": {
          "name": "personas_personaId_unique",
          "columns": [
            "personaId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "scanJobs": {
      "name": "scanJobs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('pending','running','completed','failed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "phase": {
          "name": "phase",
          "type": "enum('init','data_collection','llm_analysis','aggregation')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'init'"
        },
        "totalStocks": {
          "name": "totalStocks",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 5500
        },
        "processedStocks": {
          "name": "processedStocks",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "opportunitiesFound": {
          "name": "opportunitiesFound",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "llmAnalysesCompleted": {
          "name": "llmAnalysesCompleted",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "startedAt": {
          "name": "startedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "persona_status_idx": {
          "name": "persona_status_idx",
          "columns": [
            "personaId",
            "status"
          ],
          "isUnique": false
        },
        "created_at_idx": {
          "name": "created_at_idx",
          "columns": [
            "createdAt"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "scanJobs_personaId_personas_id_fk": {
          "name": "scanJobs_personaId_personas_id_fk",
          "tableFrom": "scanJobs",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "scanJobs_id": {
          "name": "scanJobs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "scanOpportunities": {
      "name": "scanOpportunities",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "scanJobId": {
          "name": "scanJobId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tickerId": {
          "name": "tickerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "score": {
          "name": "score",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rank": {
          "name": "rank",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metricsJson": {
          "name": "metricsJson",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "currentPrice": {
          "name": "currentPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "marketCap": {
          "name": "marketCap",
          "type": "decimal(20,0)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sector": {
          "name": "sector",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('new','watched','purchased','dismissed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'new'"
        },
        "llmAnalysisGenerated": {
          "name": "llmAnalysisGenerated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "dismissedAt": {
          "name": "dismissedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "scan_job_id_idx": {
          "name": "scan_job_id_idx",
          "columns": [
            "scanJobId"
          ],
          "isUnique": false
        },
        "persona_score_idx": {
          "name": "persona_score_idx",
          "columns": [
            "personaId",
            "score"
          ],
          "isUnique": false
        },
        "scan_rank_idx": {
          "name": "scan_rank_idx",
          "columns": [
            "scanJobId",
            "rank"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "scanOpportunities_scanJobId_scanJobs_id_fk": {
          "name": "scanOpportunities_scanJobId_scanJobs_id_fk",
          "tableFrom": "scanOpportunities",
          "tableTo": "scanJobs",
          "columnsFrom": [
            "scanJobId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scanOpportunities_personaId_personas_id_fk": {
          "name": "scanOpportunities_personaId_personas_id_fk",
          "tableFrom": "scanOpportunities",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scanOpportunities_tickerId_tickers_id_fk": {
          "name": "scanOpportunities_tickerId_tickers_id_fk",
          "tableFrom": "scanOpportunities",
          "tableTo": "tickers",
          "columnsFrom": [
            "tickerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "scanOpportunities_id": {
          "name": "scanOpportunities_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "unique_scan_ticker": {
          "name": "unique_scan_ticker",
          "columns": [
            "scanJobId",
            "tickerId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "scanOpportunityAnalyses": {
      "name": "scanOpportunityAnalyses",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "opportunityId": {
          "name": "opportunityId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "personaId": {
          "name": "personaId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "investmentThesis": {
          "name": "investmentThesis",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keyStrengths": {
          "name": "keyStrengths",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "keyRisks": {
          "name": "keyRisks",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "catalystAnalysis": {
          "name": "catalystAnalysis",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "scoringDetails": {
          "name": "scoringDetails",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "confidenceLevel": {
          "name": "confidenceLevel",
          "type": "enum('low','medium','high')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'medium'"
        },
        "recommendedAction": {
          "name": "recommendedAction",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "analysisDate": {
          "name": "analysisDate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "opportunity_id_idx": {
          "name": "opportunity_id_idx",
          "columns": [
            "opportunityId"
          ],
          "isUnique": false
        },
        "persona_id_idx": {
          "name": "persona_id_idx",
          "columns": [
            "personaId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "scanOpportunityAnalyses_opportunityId_scanOpportunities_id_fk": {
          "name": "scanOpportunityAnalyses_opportunityId_scanOpportunities_id_fk",
          "tableFrom": "scanOpportunityAnalyses",
          "tableTo": "scanOpportunities",
          "columnsFrom": [
            "opportunityId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scanOpportunityAnalyses_personaId_personas_id_fk": {
          "name": "scanOpportunityAnalyses_personaId_personas_id_fk",
          "tableFrom": "scanOpportunityAnalyses",
          "tableTo": "personas",
          "columnsFrom": [
            "personaId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "scanOpportunityAnalyses_id": {
          "name": "scanOpportunityAnalyses_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "stockFinancialCache": {
      "name": "stockFinancialCache",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "ticker": {
          "name": "ticker",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "companyName": {
          "name": "companyName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sector": {
          "name": "sector",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "industry": {
          "name": "industry",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "exchange": {
          "name": "exchange",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'USD'"
        },
        "currentPrice": {
          "name": "currentPrice",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "marketCap": {
          "name": "marketCap",
          "type": "decimal(20,0)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "volume": {
          "name": "volume",
          "type": "decimal(20,0)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "peRatio": {
          "name": "peRatio",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pbRatio": {
          "name": "pbRatio",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "psRatio": {
          "name": "psRatio",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "roe": {
          "name": "roe",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "roa": {
          "name": "roa",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "roic": {
          "name": "roic",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "grossMargin": {
          "name": "grossMargin",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operatingMargin": {
          "name": "operatingMargin",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "netMargin": {
          "name": "netMargin",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "debtToEquity": {
          "name": "debtToEquity",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "currentRatio": {
          "name": "currentRatio",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "dividendYield": {
          "name": "dividendYield",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "financialDataJson": {
          "name": "financialDataJson",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "refreshRequired": {
          "name": "refreshRequired",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": false
        },
        "lastRefreshReason": {
          "name": "lastRefreshReason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "fetchedAt": {
          "name": "fetchedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lastUpdated": {
          "name": "lastUpdated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "ticker_idx": {
          "name": "ticker_idx",
          "columns": [
            "ticker"
          ],
          "isUnique": false
        },
        "sector_idx": {
          "name": "sector_idx",
          "columns": [
            "sector"
          ],
          "isUnique": false
        },
        "refresh_required_idx": {
          "name": "refresh_required_idx",
          "columns": [
            "refreshRequired"
          ],
          "isUnique": false
        },
        "last_updated_idx": {
          "name": "last_updated_idx",
          "columns": [
            "lastUpdated"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "stockFinancialCache_id": {
          "name": "stockFinancialCache_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "stockFinancialCache_ticker_unique": {
          "name": "stockFinancialCache_ticker_unique",
          "columns": [
            "ticker"
          ]
        }
      },
      "checkConstraint": {}
    },
    "tickers": {
      "name": "tickers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "symbol": {
          "name": "symbol",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "companyName": {
          "name": "companyName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sector": {
          "name": "sector",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "industry": {
          "name": "industry",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "marketCap": {
          "name": "marketCap",
          "type": "decimal(20,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "exchange": {
          "name": "exchange",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lastDataUpdate": {
          "name": "lastDataUpdate",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "symbol_idx": {
          "name": "symbol_idx",
          "columns": [
            "symbol"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tickers_id": {
          "name": "tickers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "tickers_symbol_unique": {
          "name": "tickers_symbol_unique",
          "columns": [
            "symbol"
          ]
        }
      },
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "watchlistOpportunities": {
      "name": "watchlistOpportunities",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "opportunityId": {
          "name": "opportunityId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "watchlistOpportunities_userId_users_id_fk": {
          "name": "watchlistOpportunities_userId_users_id_fk",
          "tableFrom": "watchlistOpportunities",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "watchlistOpportunities_opportunityId_opportunities_id_fk": {
          "name": "watchlistOpportunities_opportunityId_opportunities_id_fk",
          "tableFrom": "watchlistOpportunities",
          "tableTo": "opportunities",
          "columnsFrom": [
            "opportunityId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "watchlistOpportunities_id": {
          "name": "watchlistOpportunities_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "user_opportunity_idx": {
          "name": "user_opportunity_idx",
          "columns": [
            "userId",
            "opportunityId"
          ]
        }
      },
      "checkConstraint": {}
    },
    "watchlistTickers": {
      "name": "watchlistTickers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tickerId": {
          "name": "tickerId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "snapshotScore": {
          "name": "snapshotScore",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "snapshotData": {
          "name": "snapshotData",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "watchlistTickers_userId_users_id_fk": {
          "name": "watchlistTickers_userId_users_id_fk",
          "tableFrom": "watchlistTickers",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "watchlistTickers_tickerId_tickers_id_fk": {
          "name": "watchlistTickers_tickerId_tickers_id_fk",
          "tableFrom": "watchlistTickers",
          "tableTo": "tickers",
          "columnsFrom": [
            "tickerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "watchlistTickers_id": {
          "name": "watchlistTickers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "user_ticker_idx": {
          "name": "user_ticker_idx",
          "columns": [
            "userId",
            "tickerId"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}